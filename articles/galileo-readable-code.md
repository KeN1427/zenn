---
title: "リーダブルコード読書録"
emoji: "📘"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

## 第1章 理解しやすいコード
- コードは理解しやすくなければならない。
- 最短時間で理解できるようなコード
  - 一般的に短い行数の方が理解するのに時間がかからないが、三項演算子などで1行に収めようとするより丁寧に（長く）書いた方が理解しやすい場合もある
  - 短さが正義ではない

## 第2章 名前に情報を詰め込む
- 明確な単語を選ぶ
  - `get~`だけでは正確な情報を伝えられるか？（`fetch`, `download`）など
- 汎用的な名前を避けるか、使う状況を選ぶ
  - `tmp` や`retval`などよりも、目的に合った名前をつける
  - 例えば役割が無いという意味で`tmp`を使用するのはOK
- 抽象的な名前よりも具体的な名前
- 接頭辞・接尾辞を使用して情報を追加する
- 名前の長さを決める
  - スコープが小さければ短い名前でもOK
- 名前のフォーマットで情報を伝える
  - 厳格な命名規則があることで、理解が容易になる
 

 ## 第3章 誤解されない名前
 - 曖昧な名前は避ける
   - `.filter()`は引数を含むものか、含まないものか
     - `select`と`exclude`のほうが誤解を招かない
   - 限界値を含めるときは注意する
     - 含める：`max` / `min`
     - 範囲指定：`first`/`last` , `begin` / `end`
   - `boolean`  の名前
     - `is`, `has`, `can`, `should`など
   - ユーザーの期待に合わせる
     - `get`, `size`は軽い動作を期待されている
   - 複数の名前を検討する

## 第4章 美しさ
- 改行位置やインデントを揃えて「見やすい」コードにする
  - linter/formatterで統一される
- メソッドやクラスを分ける
  - 凝集度と結合度に注目して処理を追えるような整理をする
- 個人の好みであることが多い
  - **「正しさ」よりも「一貫性」が重要 **

## 第5章 コメントすべきことを知る
- 目的：書き手の意図を読み手に知らせる
- コメントすべきでないこt
  - コードからすぐに抽出できること
  - ヒドイコードを補うようなコメント
- コメントすべきこと
  - WHYやそのコードに至った背景
  - TODOや警告

## 第6章 コメントは簡潔で正確に
- 曖昧な代名詞は避ける
- 曖昧な表現は避け、直接的な表現にする
- 情報密度の高い言葉を使う（ex. 正規化）

## 第7章 制御フローを読みやすくする
- 条件式の並び順に注目する
  - 左辺: 調査対象の式　右辺: 比較対象の式
- `if/else`の並び順は理解しやすい順番で
- 三項演算子はかえって読みづらくなる原因なので注意して使う
  - 行数を短くするよりも、他の人が読みやすいコード
- `return`や`continue`を使用して関数を早く返す
- ネストを浅くする
- 実行の流れを追いやすいように整理する

## 第8章 巨大な式を分割する
- 式を表す**説明変数**を使う
  - 式の意味を表す名前にすることで、読みやすくなる
- 式を要約する**要約変数**を使う
- ドモルガンの法則を使う
- 短絡評価の悪用をしない
  - 後で他人が読むことに注意する

## 第9章 変数と読みやすさ
- 邪魔な変数を削除する
  - 「中間結果」の変数をなるべく削除して変数を減らす
- 変数のスコープをできるだけ小さくする
  - グローバルな変数はなるべく持たない
- 静的な変数を使う
  - constなどを利用
 
 ## 第10章 無関係の下位問題を抽出する
- アプリケーションロジックに関係がない処理はutil関数として分離する
- 整ったインターフェースを提供する
- やりすぎない(凝集度と結合度を意識する)

## 第11章 一度に一つのことを
- 一つの関数やブロックで行うことは一つに集中する
  - 別関数として切り出したり、ロジックを整理する

## 第12章 コードに想いを込める
- コードをより「簡単な」言葉で記述できるように工夫する
- 目的に合致したライブラリや補助関数を知る
- ラバーダッキング
  - プログラムを言葉にして説明すると、漏れや誤りに気づきやすい
  - 自分の知識が薄い部分もわかる

## 第13章 短いコードを書く
- コードが増えるほど保守・運用が大変になる
- 不要な機能を削除する
  - 機能は必要になってから追加する
- 最も簡単に問題を解決できる要求を考える
  - 要件に対する視野を広く持つ
- 定期的に標準ライブラリを読み込み、慣れ親しんでおく

## 第14章 テストと読みやすさ
- テストを単純化する
  - Fixtureを使用して共通部分を単純化
- 一つのテストで一つの事象をテストする
- テストの関数名は説明的な名前をつける
